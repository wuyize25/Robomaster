# 变量、运算符与数据类型及位运算

## 笔记

- 在 Python 中，`#`为单行注释，`''' '''` 或者 `""" """` 为区间注释

- `//` 为整除，`**`为幂运算

- 逻辑运算符`and` `or` `not`

- 位运算符

  | 操作符  | 名称     |
  | ------- | -------- |
  | `~`     | 按位取反 |
  | `&`     | 按位与   |
  | `` ` `` | 按位或   |
  | `^`     | 按位异或 |
  | `<<`    | 左移     |
  | `>>`    | 右移     |

- 三元运算符 `small = x if x < y else y`

- 其他运算符

  | 操作符   | 名称   | 示例                         |
  | -------- | ------ | ---------------------------- |
  | `in`     | 存在   | `'A' in ['A', 'B', 'C']`     |
  | `not in` | 不存在 | `'h' not in ['A', 'B', 'C']` |
  | `is`     | 是     | `"hello" is "hello"`         |
  | `is not` | 不是   | `"hello" is not "hello"`     |

  **注：**`is`，`is not` 对比的是两个变量的内存地址，而`==`，`!=` 对比的是两个变量的值

- print() 函数

  ```python
  print(*objects, sep=' ', end='\n', file=sys.stdout, flush=False)
  ```

  - 将对象以字符串表示的方式格式化输出到流文件对象file里。其中所有非关键字参数都按`str()`方式进行转换为字符串输出；
  - 关键字参数`sep`是实现分隔符，比如多个参数输出时想要输出中间的分隔字符；
  - 关键字参数`end`是输出结束时的字符，默认是换行符`\n`；
  - 关键字参数`file`是定义流输出的文件，可以是标准的系统输出`sys.stdout`，也可以重定义为别的文件；
  - 关键字参数`flush`是立即把内容输出到流文件，不作缓存。

- Python中`bin`一个负数（十进制表示），输出的是它的原码的二进制表示加上个负号。

- Python中的整型是补码形式存储的。

- Python中整型是不限制长度的不会超范围溢出。

## 思考题

#### 1. Python是怎么诞生的？Python之父是谁？

Python的创始人为**吉多·范罗苏姆**（Gudio van Rossum），Guido希望有一种语言，这种语言能够像C语言样，能够全面调用计算机的功能接口，又可以像shell那样，可以轻松的编程。ABC语言让Guido看到希望。ABC是由荷兰的CWI （Centrum Wiskunde & Informatica, 数学和计算机研究所）开发的。Guido在CWI工作，并参与到ABC语言的开发。ABC语言以教学为目的。与当时的大部分语言不同，ABC语言的目标是“让用户感觉更好”。ABC语言希望让语言变得容易阅读，容易使用，容易记忆，容易学习，并以此来激发人们学习编程的兴趣。但是ABC语言并没有成功，究其原因，吉多认为是**非开发**造成的。吉多决心在Python中避免这一错误，并获取了非常好的效果。1989年，为了打发圣诞节假期，Guido开始写Python语言的编译/解释器。Python来自Guido所挚爱的电视剧Monty Python's Flying Circus （BBC1960-1970年代播放的室内情景幽默剧，以当时的英国生活为素材）。他希望这个新的叫做Python的语言，能实现他的理念（一种C和shell之间，功能全面，易学易用，可拓展的语言）。1991年，第一个Python编译器（同时也是解释器）**诞生**。它是用C语言实现的，并能够调用C库（.so文件）。从一出生，Python已经具有了：类(class)，函数(function)，异常处理(exception)，包括表(list)和词典(dictionary)在内的核心数据类型，以及模块(module)为基础的拓展系统。

#### 2. Python和C++（或者C）的区别在哪？即为什么要学习Python，C++不香吗？

**Python的设计目标**

- 一门**简单直观的语言**并与主要竞争者一样强大

- **开源**，以便任何人都可以为它做贡献　　　
- 代码**像纯英语那样容易理解**
- 适用于**短期**开发的日常任务

Python是**完全面向对象的语言**，**函数、模块、数字、字符串**都是对象，**在 Python中一切皆对象**，完全支持继承、重载、多重继承，支持重载运算符，也支持泛型设计。

Python**拥有一个强大的标准库**，Python语言的核心只包含**数字、字符串、列表、字典、文件**等常见类型和函数，而由Python标准库提供了**系统管理、网络通信、文本处理、数据库接口、图形系统、XML处理**等额外的功能。

 Python社区提供了**大量的第三方模块**，使用方式与标准库类似。它们的功能覆盖**科学计算、人工智能、机器学习、Web开发、数据库接口、图形系统**多个领域。

而C++更接近于底层，方便直接操作内存。C++不仅拥有计算机高效运行的实用性特征，同时还致力于提高大规模程序的编程质量与程序设计语言的问题描述能力。C++既可以面向对象，也可以面向过程。因而C++较复杂，python简单易学，方便快速开发。

#### 3. 相较于Python2，Python3做了哪些大的改进？

##### 1. print 变成了 print()

Python 2 中的 print 只是一条语句，除了输出后面所跟的内容，不能做其他的附加操作。当 print() 用作函数时，可以添加各种关键字参数来改进标准行为，实现更多的附加操作。

##### 2. 默认情况下字符串会转换为 Unicode 编码

Python2中使用 ASCII 码作为默认编码方式导致string有两种类型str和unicode，Python3只支持unicode的string。

##### 3. 统一采用新式类

Python2中存在老式类和新式类的区别，Python3统一采用新式类。新式类声明要求继承object，必须用新式类应用多重继承。

##### 4. 更新了异常的语法

在捕获异常中，新增 **as** 关键字作为异常类型和对象变量的间隔，替代了逗号，确保开发者不会因为原始语法中的逗号而混淆。

##### 5. 采用绝对路径的方式进行import

Python2中相对路径的import会导致标准库导入变得困难（想象一下，同一目录下有file.py，如何同时导入这个文件和标准库file）。Python3中这一点将被修改，如果还需要导入同一目录的文件必须使用绝对路径，否则只能使用相关导入的方式来进行导入。

##### 6. 使用更加严格的缩进

Python2的缩进机制中，1个tab和8个space是等价的，所以在缩进中可以同时允许tab和space在代码中共存。这种等价机制会导致部分IDE使用存在问题。Python3中1个tab只能找另外一个tab替代。

##### 7. 迭代无处不在

使用迭代器比在内存中维护整个列表更有效，从而避免浪费内存。例如，`map()`、`filter()`、`range()`、`zip()`、`keys()`、`items()`和 `values()`都返回迭代器。

## 练习题

#### 1. 怎样对python中的代码进行注释？

**`#`** 表示注释，作用于整行。

 **`''' '''`** 或者 **`""" """`** 表示区间注释，在三引号之间的所有内容被注释。

#### 2. python有哪些运算符，这些运算符的优先级是怎样的？

| 运算符说明 | Python运算符            | 优先级 | 结合性 |
| ---------- | ----------------------- | ------ | ------ |
| 小括号     | ( )                     | 19     | 无     |
| 索引运算符 | x[i] 或 x[i1: i2 [:i3]] | 18     | 左     |
| 属性访问   | x.attribute             | 17     | 左     |
| 乘方       | **                      | 16     | 右     |
| 按位取反   | ~                       | 15     | 右     |
| 符号运算符 | +（正号）、-（负号）    | 14     | 右     |
| 乘除       | *、/、//、%             | 13     | 左     |
| 加减       | +、-                    | 12     | 左     |
| 位移       | >>、<<                  | 11     | 左     |
| 按位与     | &                       | 10     | 右     |
| 按位异或   | ^                       | 9      | 左     |
| 按位或     | \|                      | 8      | 左     |
| 比较运算符 | ==、!=、>、>=、<、<=    | 7      | 左     |
| is 运算符  | is、is not              | 6      | 左     |
| in 运算符  | in、not in              | 5      | 左     |
| 逻辑非     | not                     | 4      | 右     |
| 逻辑与     | and                     | 3      | 左     |
| 逻辑或     | or                      | 2      | 左     |
| 逗号运算符 | exp1, exp2              | 1      | 左     |

#### 3. python 中 `is`, `is not` 与 `==`, `!=` 的区别是什么？

`is`，`is not` 对比的是两个变量的内存地址，而`==`，`!=` 对比的是两个变量的值。

比较的两个变量，指向的都是地址不可变的类型（str等），那么is，is not 和 ==，！= 是完全等价的。

比较的两个变量，指向的是地址可变的类型（list，dict等），则两者是有区别的。

#### 4. python 中包含哪些数据类型？这些数据类型之间如何转换？

| 类型  | 名称                    | 示例           |
| ----- | ----------------------- | -------------- |
| int   | 整型 `<class 'int'>`    | `-876, 10`     |
| float | 浮点型`<class 'float'>` | `3.149, 11.11` |
| bool  | 布尔型`<class 'bool'>`  | `True, False`  |

- 转换为整型 `int(x, base=10)`
- 转换为字符串 `str(object='')`
- 转换为浮点型 `float(x)`

#### 5. LeetCode 习题 136. 只出现一次的数字

给定一个**非空**整数数组，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。尝试使用位运算解决此题。

```python
"""
Input file
example1: [2,2,1]
example2: [4,1,2,1,2]

Output file
result1: 1
result2: 4
"""


class Solution:
    def singleNumber(self, nums: List[int]) -> int:
        result = 0
        for num in nums:
            result ^= num
        return result
```

